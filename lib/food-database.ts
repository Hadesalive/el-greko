export interface FoodItem {
  id: number;
  name: string;
  price: number;
  originalPrice?: number;
  image: string;
  description: string;
  category: "salads" | "sandwich" | "brunch" | "pizza" | "burger" | "fried-chicken" | "dessert";
  rating: number;
  reviews: number;
  popular: boolean;
  spicy?: boolean;
  vegetarian?: boolean;
  ingredients: string[];
  cookingTime: string;
  calories: number;
  emoji: string;
  specialOffer?: boolean;
  tags?: string[];
  pairings?: number[]; // IDs of food items that pair well
}

export const foodDatabase: FoodItem[] = [
  // Salads
  {
    id: 1,
    name: "Smoked Salmon",
    price: 50000,
    image: "/placeholder.svg",
    description: "edamame, smoked salmon, Avocado, orange slices and dresses with a citrus sauce",
    category: "salads",
    rating: 4.5,
    reviews: 100,
    popular: true,
    vegetarian: false,
    ingredients: ["Edamame", "Smoked Salmon", "Avocado", "Orange Slices", "Citrus Sauce"],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🥗",
  },
  {
    id: 2,
    name: "Beetroot Salad",
    price: 50000,
    image: "/placeholder.svg",
    description: "A vibrant and elegant salad featuring tender roasted beetroots paired with creamy fetaa cheese, crunchy toasted walnuts, and fresh mixed greens. Lightly dressed with a honey-balsamic vinaigrette, this dish balances earthy sweetness with tangy richness.",
    category: "salads",
    rating: 4.5,
    reviews: 100,
    popular: true,
    vegetarian: true,
    ingredients: ["Beetroots", "Feta Cheese", "Walnuts", "Mixed Greens", "Honey-Balsamic Vinaigrette"],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🥗",
  },
  {
    id: 3,
    name: "Greek Salad",
    price: 50000,
    image: "/placeholder.svg",
    description: "tomatoes, cucumber, onions feta cheese, olives and dresses with a herbal sauce",
    category: "salads",
    rating: 4.5,
    reviews: 100,
    popular: true,
    vegetarian: true,
    ingredients: ["Tomatoes", "Cucumber", "Onions", "Feta Cheese", "Olives", "Herbal Sauce"],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🥗",
  },
  {
    id: 4,
    name: "Fatouch",
    price: 50000,
    image: "/placeholder.svg",
    description: "radish, rocca, tomatoes, cucumber and dressed with a pomegranate sauce.",
    category: "salads",
    rating: 4.5,
    reviews: 100,
    popular: true,
    vegetarian: true,
    ingredients: ["Radish", "Rocca", "Tomatoes", "Cucumber", "Pomegranate Sauce"],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🥗",
  },

  // Sandwich
  {
    id: 5,
    name: "Scrambled egg",
    price: 240,
    image: "/placeholder.svg",
    description: "Eggs, avocado, bresaola/ bacon, cheddar cheese, onions",
    category: "sandwich",
    rating: 4.5,
    reviews: 100,
    popular: true,
    ingredients: ["Eggs", "Avocado", "Bresaola/Bacon", "Cheddar Cheese", "Onions"],
    cookingTime: "15 mins",
    calories: 400,
    emoji: "🥪",
  },
  {
    id: 6,
    name: "Quatro",
    price: 285,
    image: "/placeholder.svg",
    description: "Brie, swiss cheese, cheddar & Blue cheese",
    category: "sandwich",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Brie", "Swiss Cheese", "Cheddar", "Blue Cheese"],
    cookingTime: "15 mins",
    calories: 400,
    emoji: "🥪",
  },
  {
    id: 7,
    name: "Reuben",
    price: 255,
    image: "/placeholder.svg",
    description: "Bresaola, caramelized onions, swiss cheese & mustard",
    category: "sandwich",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Bresaola", "Caramelized Onions", "Swiss Cheese", "Mustard"],
    cookingTime: "15 mins",
    calories: 400,
    emoji: "🥪",
  },
  {
    id: 8,
    name: "Greene Grilled",
    price: 255,
    image: "/placeholder.svg",
    description: "cheddar, emmental, bacon, avocado & cilantro sauce",
    category: "sandwich",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Cheddar", "Emmental", "Bacon", "Avocado", "Cilantro Sauce"],
    cookingTime: "15 mins",
    calories: 400,
    emoji: "🥪",
  },
  {
    id: 9,
    name: "Smoked Salmon Sandwich",
    price: 465,
    image: "/placeholder.svg",
    description: "Smoked salmon, brie cheese, swiss cheese, caramelized onions.",
    category: "sandwich",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Smoked Salmon", "Brie Cheese", "Swiss Cheese", "Caramelized Onions"],
    cookingTime: "15 mins",
    calories: 400,
    emoji: "🥪",
  },
  {
    id: 10,
    name: "EL GRECO special",
    price: 265,
    image: "/placeholder.svg",
    description: "scrambled eggs, bacon, mix cheese, pickled peppers",
    category: "sandwich",
    rating: 4.5,
    reviews: 100,
    popular: true,
    ingredients: ["Scrambled Eggs", "Bacon", "Mix Cheese", "Pickled Peppers"],
    cookingTime: "15 mins",
    calories: 400,
    emoji: "🥪",
  },

  // Brunch
  {
    id: 11,
    name: "Pancake",
    price: 280,
    image: "/placeholder.svg",
    description: "two eggs fried, bacon, pancake & fruits",
    category: "brunch",
    rating: 4.5,
    reviews: 100,
    popular: true,
    ingredients: ["Eggs", "Bacon", "Pancake", "Fruits"],
    cookingTime: "20 mins",
    calories: 500,
    emoji: "🥞",
  },
  {
    id: 12,
    name: "Crepe",
    price: 280,
    image: "/placeholder.svg",
    description: "two fried eggs, smoked ham, swiss cheese & fruits",
    category: "brunch",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Eggs", "Smoked Ham", "Swiss Cheese", "Fruits"],
    cookingTime: "20 mins",
    calories: 500,
    emoji: "🥞",
  },
  {
    id: 13,
    name: "Sunshine",
    price: 280,
    image: "/placeholder.svg",
    description: "two fried eggs, bacon, crepe filled with cream & fruits",
    category: "brunch",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Eggs", "Bacon", "Crepe", "Cream", "Fruits"],
    cookingTime: "20 mins",
    calories: 500,
    emoji: "🥞",
  },
  {
    id: 14,
    name: "El Greco Special Brunch",
    price: 320,
    image: "/placeholder.svg",
    description: "two fried eggs, two waffle, bacon or Bresaola, cheese & fruits",
    category: "brunch",
    rating: 4.5,
    reviews: 100,
    popular: true,
    ingredients: ["Eggs", "Waffle", "Bacon/Bresaola", "Cheese", "Fruits"],
    cookingTime: "20 mins",
    calories: 500,
    emoji: "🥞",
  },
  {
    id: 15,
    name: "Benedict Classic",
    price: 260,
    image: "/placeholder.svg",
    description: "two poached eggs, bacon/ turkey with Hollandaise sauce",
    category: "brunch",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Poached Eggs", "Bacon/Turkey", "Hollandaise Sauce"],
    cookingTime: "20 mins",
    calories: 500,
    emoji: "🥞",
  },
  {
    id: 16,
    name: "Copenhagen Benedict",
    price: 450,
    image: "/placeholder.svg",
    description: "two poached eggs, smoked salmon with hollandaise sauce",
    category: "brunch",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Poached Eggs", "Smoked Salmon", "Hollandaise Sauce"],
    cookingTime: "20 mins",
    calories: 500,
    emoji: "🥞",
  },
  {
    id: 17,
    name: "Cheese Omelet",
    price: 260,
    image: "/placeholder.svg",
    description: "swiss cheese, white cheese & waffle",
    category: "brunch",
    rating: 4.5,
    reviews: 100,
    popular: false,
    vegetarian: true,
    ingredients: ["Swiss Cheese", "White Cheese", "Waffle"],
    cookingTime: "20 mins",
    calories: 500,
    emoji: "🥞",
  },
  {
    id: 18,
    name: "Veggie Omelet",
    price: 240,
    image: "/placeholder.svg",
    description: "peppers, mushrooms, spinach, onions & Waffle",
    category: "brunch",
    rating: 4.5,
    reviews: 100,
    popular: false,
    vegetarian: true,
    ingredients: ["Peppers", "Mushrooms", "Spinach", "Onions", "Waffle"],
    cookingTime: "20 mins",
    calories: 500,
    emoji: "🥞",
  },
  {
    id: 19,
    name: "Portobello Omelet",
    price: 280,
    image: "/placeholder.svg",
    description: "prosciutto, mushrooms, pecorino romano cheese & waffle",
    category: "brunch",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Prosciutto", "Mushrooms", "Pecorino Romano Cheese", "Waffle"],
    cookingTime: "20 mins",
    calories: 500,
    emoji: "🥞",
  },
  {
    id: 20,
    name: "Cheese Pie",
    price: 150,
    image: "/placeholder.svg",
    description: "",
    category: "brunch",
    rating: 4.5,
    reviews: 100,
    popular: false,
    vegetarian: true,
    ingredients: ["Cheese"],
    cookingTime: "20 mins",
    calories: 500,
    emoji: "🥞",
  },
  {
    id: 21,
    name: "Thyme Pie",
    price: 100,
    image: "/placeholder.svg",
    description: "",
    category: "brunch",
    rating: 4.5,
    reviews: 100,
    popular: false,
    vegetarian: true,
    ingredients: ["Thyme"],
    cookingTime: "20 mins",
    calories: 500,
    emoji: "🥞",
  },
  {
    id: 22,
    name: "Meat Pie",
    price: 200,
    image: "/placeholder.svg",
    description: "",
    category: "brunch",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Meat"],
    cookingTime: "20 mins",
    calories: 500,
    emoji: "🥞",
  },
  {
    id: 23,
    name: "Foul",
    price: 250,
    image: "/placeholder.svg",
    description: "",
    category: "brunch",
    rating: 4.5,
    reviews: 100,
    popular: false,
    vegetarian: true,
    ingredients: [],
    cookingTime: "20 mins",
    calories: 500,
    emoji: "🥞",
  },
  {
    id: 24,
    name: "Labneh",
    price: 150,
    image: "/placeholder.svg",
    description: "",
    category: "brunch",
    rating: 4.5,
    reviews: 100,
    popular: false,
    vegetarian: true,
    ingredients: [],
    cookingTime: "20 mins",
    calories: 500,
    emoji: "🥞",
  },

  // Pizzas
  {
    id: 25,
    name: "Margherita",
    price: 240,
    image: "/placeholder.svg",
    description: "Tomatoes, mozarella, fresh rocca",
    category: "pizza",
    rating: 4.5,
    reviews: 100,
    popular: true,
    vegetarian: true,
    ingredients: ["Tomatoes", "Mozzarella", "Fresh Rocca"],
    cookingTime: "25 mins",
    calories: 600,
    emoji: "🍕",
  },
  {
    id: 26,
    name: "Chicken Pizza",
    price: 265,
    image: "/placeholder.svg",
    description: "spicy boneless chicken, cheese, mushrooms",
    category: "pizza",
    rating: 4.5,
    reviews: 100,
    popular: false,
    spicy: true,
    ingredients: ["Spicy Boneless Chicken", "Cheese", "Mushrooms"],
    cookingTime: "25 mins",
    calories: 600,
    emoji: "🍕",
  },
  {
    id: 27,
    name: "Quatro Pizza",
    price: 275,
    image: "/placeholder.svg",
    description: "emmental, gouda, blue cheese, mozzarella",
    category: "pizza",
    rating: 4.5,
    reviews: 100,
    popular: false,
    vegetarian: true,
    ingredients: ["Emmental", "Gouda", "Blue Cheese", "Mozzarella"],
    cookingTime: "25 mins",
    calories: 600,
    emoji: "🍕",
  },
  {
    id: 28,
    name: "Pepperoni",
    price: 275,
    image: "/placeholder.svg",
    description: "pepperoni, cheese",
    category: "pizza",
    rating: 4.5,
    reviews: 100,
    popular: true,
    ingredients: ["Pepperoni", "Cheese"],
    cookingTime: "25 mins",
    calories: 600,
    emoji: "🍕",
  },
  {
    id: 29,
    name: "Sea food",
    price: 325,
    image: "/placeholder.svg",
    description: "sea food mix, cheese",
    category: "pizza",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Sea Food Mix", "Cheese"],
    cookingTime: "25 mins",
    calories: 600,
    emoji: "🍕",
  },
  {
    id: 30,
    name: "Smoked Salmon Pizza",
    price: 400,
    image: "/placeholder.svg",
    description: "smoked salmon, capers, rocca, cheese",
    category: "pizza",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Smoked Salmon", "Capers", "Rocca", "Cheese"],
    cookingTime: "25 mins",
    calories: 600,
    emoji: "🍕",
  },

  // Burger
  {
    id: 31,
    name: "Chicken burger",
    price: 250,
    image: "/placeholder.svg",
    description: "Served with Fries",
    category: "burger",
    rating: 4.5,
    reviews: 100,
    popular: true,
    ingredients: ["Chicken Patty", "Bun", "Fries"],
    cookingTime: "20 mins",
    calories: 700,
    emoji: "🍔",
  },
  {
    id: 32,
    name: "Fish Burger",
    price: 250,
    image: "/placeholder.svg",
    description: "Served with Fries.",
    category: "burger",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Fish Patty", "Bun", "Fries"],
    cookingTime: "20 mins",
    calories: 700,
    emoji: "🍔",
  },

  // Fried Chicken
  {
    id: 33,
    name: "Wise 2",
    price: 225,
    image: "/placeholder.svg",
    description: "2 pcs of Crispy fried chicken served with one side dish",
    category: "fried-chicken",
    rating: 4.5,
    reviews: 100,
    popular: true,
    ingredients: ["Fried Chicken", "Side Dish"],
    cookingTime: "20 mins",
    calories: 800,
    emoji: "🍗",
  },
  {
    id: 34,
    name: "wise 3",
    price: 255,
    image: "/placeholder.svg",
    description: "3 pcs of Crispy fried chicken served with one side dish",
    category: "fried-chicken",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Fried Chicken", "Side Dish"],
    cookingTime: "20 mins",
    calories: 800,
    emoji: "🍗",
  },
  {
    id: 35,
    name: "wise 4",
    price: 305,
    image: "/placeholder.svg",
    description: "4 pcs of Crispy fried chicken served with one side dish",
    category: "fried-chicken",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Fried Chicken", "Side Dish"],
    cookingTime: "20 mins",
    calories: 800,
    emoji: "🍗",
  },
  {
    id: 36,
    name: "wise 5",
    price: 365,
    image: "/placeholder.svg",
    description: "5 pcs of Crispy fried chicken served with one side dish",
    category: "fried-chicken",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Fried Chicken", "Side Dish"],
    cookingTime: "20 mins",
    calories: 800,
    emoji: "🍗",
  },
  {
    id: 37,
    name: "Family",
    price: 680,
    image: "/placeholder.svg",
    description: "10 pcs of Crispy fried chicken served with two side dish",
    category: "fried-chicken",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Fried Chicken", "Side Dishes"],
    cookingTime: "20 mins",
    calories: 800,
    emoji: "🍗",
  },
  {
    id: 38,
    name: "Combo",
    price: 580,
    image: "/placeholder.svg",
    description: "1 pc of chicken, fries & coleslaw",
    category: "fried-chicken",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Chicken", "Fries", "Coleslaw"],
    cookingTime: "20 mins",
    calories: 800,
    emoji: "🍗",
  },
  {
    id: 39,
    name: "Strips",
    price: 225,
    image: "/placeholder.svg",
    description: "3 pcs of chicken strips served with one side dish",
    category: "fried-chicken",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Chicken Strips", "Side Dish"],
    cookingTime: "20 mins",
    calories: 800,
    emoji: "🍗",
  },
  {
    id: 40,
    name: "Wings",
    price: 225,
    image: "/placeholder.svg",
    description: "4 pcs of chicken wings served with one side dish",
    category: "fried-chicken",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Chicken Wings", "Side Dish"],
    cookingTime: "20 mins",
    calories: 800,
    emoji: "🍗",
  },

  // Dessert
  {
    id: 41,
    name: "Waffle",
    price: 160,
    image: "/placeholder.svg",
    description: "comes in differnt flavours, chocolate fondue banana, choco loco, oreo and lotus",
    category: "dessert",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["oreo", "banana", "lotus", "fondue"],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🧇",
  },
  {
    id: 42,
    name: "Crepe",
    price: 160,
    image: "/placeholder.svg",
    description: "",
    category: "dessert",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["chocolate", "banana", "lotus", "marshmellows kitkat", "oreo", "ice creme" ],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🥞",
  },
  {
    id: 43,
    name: "Coissant",
    price: 50000,
    image: "/placeholder.svg",
    description: "Plain",
    category: "dessert",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: [],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🥐",
  },
  {
    id: 44,
    name: "coissant",
    price: 50000,
    image: "/placeholder.svg",
    description: "chocolate",
    category: "dessert",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Chocolate"],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🥐",
  },
  {
    id: 45,
    name: "Donut",
    price: 50000,
    image: "/placeholder.svg",
    description: "plain",
    category: "dessert",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: [],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🍩",
  },
  {
    id: 46,
    name: "Donut",
    price: 50000,
    image: "/placeholder.svg",
    description: "custard",
    category: "dessert",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Custard"],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🍩",
  },
  {
    id: 47,
    name: "Banana bread",
    price: 50000,
    image: "/placeholder.svg",
    description: "",
    category: "dessert",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Banana"],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🍞",
  },
  {
    id: 48,
    name: "Ice Cream",
    price: 50000,
    image: "/placeholder.svg",
    description: "Vanilla Ice cream served with a waffle and 1 topping.",
    category: "dessert",
    rating: 4.5,
    reviews: 100,
    popular: true,
    ingredients: ["Vanilla Ice Cream", "Waffle", "Topping"],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🍦",
  },
  {
    id: 49,
    name: "Cheese cake",
    price: 50000,
    image: "/placeholder.svg",
    description: "Cream cheese, with our seasonal flavors",
    category: "dessert",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Cream Cheese", "Seasonal Flavors"],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🍰",
  },
  {
    id: 50,
    name: "Lazy Cake",
    price: 50000,
    image: "/placeholder.svg",
    description: "",
    category: "dessert",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: [],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🍰",
  },
  {
    id: 51,
    name: "Lemon Tart",
    price: 50000,
    image: "/placeholder.svg",
    description: "",
    category: "dessert",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: ["Lemon"],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🍋",
  },
  {
    id: 52,
    name: "Creme brulee",
    price: 50000,
    image: "/placeholder.svg",
    description: "",
    category: "dessert",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: [],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🍮",
  },
  {
    id: 53,
    name: "Panna Cotta",
    price: 50000,
    image: "/placeholder.svg",
    description: "Indulge your taste buds with this delicious Italian dessert",
    category: "dessert",
    rating: 4.5,
    reviews: 100,
    popular: false,
    ingredients: [],
    cookingTime: "10 mins",
    calories: 300,
    emoji: "🍮",
  },
]

export const getFoodsByCategory = (category: string) => {
  if (category === "all") return foodDatabase
  return foodDatabase.filter((item) => item.category === category)
}

export const getPopularFoods = () => {
  return foodDatabase.filter((item) => item.popular).slice(0, 6)
}

export const getFoodById = (id: number) => {
  return foodDatabase.find((item) => item.id === id)
}

export const searchFoods = (query: string) => {
  return foodDatabase.filter(
    (item) =>
      item.name.toLowerCase().includes(query.toLowerCase()) ||
      item.description.toLowerCase().includes(query.toLowerCase()) ||
      item.ingredients.some((ingredient) => ingredient.toLowerCase().includes(query.toLowerCase())),
  )
}

export const getSpecialOffers = () => {
  return foodDatabase.filter(item => item.specialOffer);
}

import Fuse from 'fuse.js';

const fuseOptions = {
  threshold: 0.45, // Slightly tightened threshold, as tags provide accuracy
  keys: [
    { name: 'tags', weight: 0.4 }, // Tags are now the most important field
    { name: 'name', weight: 0.3 },
    { name: 'description', weight: 0.2 },
    { name: 'ingredients', weight: 0.1 },
  ],
};

export interface RecommendationFilters {
  isVegetarian?: boolean;
  isSpicy?: boolean;
  isPopular?: boolean;
}

export function recommendFoods(query: string, filters: RecommendationFilters): FoodItem[] {
  let results: FoodItem[] = [...foodDatabase];

  // 1. Apply filters
  if (filters.isVegetarian) {
    results = results.filter(item => item.vegetarian);
  }
  if (filters.isSpicy) {
    results = results.filter(item => item.spicy);
  }
  if (filters.isPopular) {
    results = results.filter(item => item.popular);
  }

  // 2. Apply fuzzy search if a query is provided
  if (query.trim()) {
    const fuse = new Fuse(results, fuseOptions);
    results = fuse.search(query).map(result => result.item);
  } else {
    // If no query, sort the filtered list by popularity
    results.sort((a, b) => (b.rating * b.reviews) - (a.rating * a.reviews));
  }

  return results.slice(0, 10);
}

export function getFoodItemById(id: number): FoodItem | undefined {
  return foodDatabase.find(item => item.id === id);
}
